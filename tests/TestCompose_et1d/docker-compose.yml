version: '3'
services:
  # Fluid and Structure participants are executed simultaneously
  elastictube1d:
    build:
      context: .
      dockerfile: Dockerfile.elastictube1d
      args:
        from: "$precice/precice${PRECICE_BASE}"
    networks:
      - precicecomm
    volumes:
      - exchange:/home/precice/Data/Exchange/
      - output:/home/precice/Data/Output/
      - configs:/home/precice/elastictube1d-python/
    command: >
      /bin/bash -c "source Allrun"
    container_name: elastictube1d

networks:
  precicecomm:
volumes:
  exchange:
  output:
  configs:
